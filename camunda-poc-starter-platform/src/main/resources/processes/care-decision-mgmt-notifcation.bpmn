<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:modeler="http://camunda.org/schema/modeler/1.0" id="Definitions_0plte2s" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="4.11.1" modeler:executionPlatform="Camunda Platform" modeler:executionPlatformVersion="7.15.0">
  <bpmn:collaboration id="Collaboration_0liam8e">
    <bpmn:participant id="Participant_0qo9b7g" name="Patient Notification Process" processRef="Process_partient-notifcation" />
    <bpmn:participant id="Participant_1kj4whv" name="Provider Escalation Notification Process" processRef="Process_provider-escalation-notification" />
  </bpmn:collaboration>
  <bpmn:process id="Process_partient-notifcation" name="Patient Notification" isExecutable="true">
    <bpmn:endEvent id="Event_1fku79c" name="End Patient Notification">
      <bpmn:incoming>Flow_0b3gfum</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:startEvent id="Event_03dfnlx" name="Start Patient Notification">
      <bpmn:outgoing>Flow_09bft7l</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_1yfar5f" messageRef="Message_0xm9h8k" />
    </bpmn:startEvent>
    <bpmn:sequenceFlow id="Flow_09bft7l" sourceRef="Event_03dfnlx" targetRef="Activity_08ts36f" />
    <bpmn:sequenceFlow id="Flow_0b3gfum" sourceRef="Activity_08ts36f" targetRef="Event_1fku79c" />
    <bpmn:manualTask id="Activity_08ts36f" name="Send Notifcation">
      <bpmn:incoming>Flow_09bft7l</bpmn:incoming>
      <bpmn:outgoing>Flow_0b3gfum</bpmn:outgoing>
    </bpmn:manualTask>
    <bpmn:textAnnotation id="TextAnnotation_0tw61tc">
      <bpmn:text>Immediate notification</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:association id="Association_0rqnmf2" sourceRef="Activity_08ts36f" targetRef="TextAnnotation_0tw61tc" />
  </bpmn:process>
  <bpmn:process id="Process_provider-escalation-notification" name="Provider Escalation Notification Process" isExecutable="true">
    <bpmn:startEvent id="Event_11h41lf" name="Start Provider Notification">
      <bpmn:outgoing>Flow_0paznm2</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_01owjnb" messageRef="Message_1ifligl" />
    </bpmn:startEvent>
    <bpmn:endEvent id="Event_1mtzjg5" name="End Provider Notification">
      <bpmn:incoming>Flow_1jx17st</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:intermediateCatchEvent id="Event_1ubugjh" name="Wait for completed escalation">
      <bpmn:incoming>Flow_0n77axr</bpmn:incoming>
      <bpmn:outgoing>Flow_1jx17st</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_1ea4jo3" messageRef="Message_01ebdmx" />
    </bpmn:intermediateCatchEvent>
    <bpmn:sequenceFlow id="Flow_0paznm2" sourceRef="Event_11h41lf" targetRef="Activity_0gexc0p" />
    <bpmn:sequenceFlow id="Flow_0n77axr" sourceRef="Activity_0gexc0p" targetRef="Event_1ubugjh" />
    <bpmn:sequenceFlow id="Flow_1jx17st" sourceRef="Event_1ubugjh" targetRef="Event_1mtzjg5" />
    <bpmn:serviceTask id="Activity_0gexc0p" name="Send Notification" camunda:modelerTemplate="26268032-ab52-4049-9b77-7cadc124a204" camunda:modelerTemplateVersion="1635208943455" camunda:delegateExpression="${emailDelegate}">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="subject">Camunda PoC Email</camunda:inputParameter>
          <camunda:inputParameter name="emailFrom"></camunda:inputParameter>
          <camunda:inputParameter name="emailTo">me@camunda.com</camunda:inputParameter>
          <camunda:inputParameter name="emailCc"></camunda:inputParameter>
          <camunda:inputParameter name="emailBcc"></camunda:inputParameter>
          <camunda:inputParameter name="messageBody">
            <camunda:script scriptFormat="freemarker"></camunda:script>
          </camunda:inputParameter>
          <camunda:inputParameter name="body">This is a message to a provider. Go here when work is done!</camunda:inputParameter>
          <camunda:outputParameter name="mailSendStatus">${mailSendStatus}</camunda:outputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0paznm2</bpmn:incoming>
      <bpmn:outgoing>Flow_0n77axr</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:textAnnotation id="TextAnnotation_0mocwta">
      <bpmn:text>Not immediate</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:association id="Association_17fw619" sourceRef="Activity_0gexc0p" targetRef="TextAnnotation_0mocwta" />
  </bpmn:process>
  <bpmn:message id="Message_0xm9h8k" name="Message_start-patient-notification" />
  <bpmn:message id="Message_1ifligl" name="Message_start-provider-notification" />
  <bpmn:message id="Message_01ebdmx" name="Message_complete-escalation" />
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Collaboration_0liam8e">
      <bpmndi:BPMNShape id="Participant_0qo9b7g_di" bpmnElement="Participant_0qo9b7g" isHorizontal="true">
        <dc:Bounds x="150" y="100" width="1380" height="310" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_0b3gfum_di" bpmnElement="Flow_0b3gfum">
        <di:waypoint x="810" y="260" />
        <di:waypoint x="1332" y="260" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_09bft7l_di" bpmnElement="Flow_09bft7l">
        <di:waypoint x="328" y="260" />
        <di:waypoint x="710" y="260" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Event_1fku79c_di" bpmnElement="Event_1fku79c">
        <dc:Bounds x="1332" y="242" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1322" y="285" width="57" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_03dfnlx_di" bpmnElement="Event_03dfnlx">
        <dc:Bounds x="292" y="242" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="280" y="285" width="61" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_0tw61tc_di" bpmnElement="TextAnnotation_0tw61tc">
        <dc:Bounds x="710" y="340" width="100" height="41" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1r1l6ep_di" bpmnElement="Activity_08ts36f">
        <dc:Bounds x="710" y="220" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_0rqnmf2_di" bpmnElement="Association_0rqnmf2">
        <di:waypoint x="760" y="300" />
        <di:waypoint x="759" y="340" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Participant_1kj4whv_di" bpmnElement="Participant_1kj4whv" isHorizontal="true">
        <dc:Bounds x="150" y="450" width="1380" height="310" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_1jx17st_di" bpmnElement="Flow_1jx17st">
        <di:waypoint x="738" y="610" />
        <di:waypoint x="912" y="610" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0n77axr_di" bpmnElement="Flow_0n77axr">
        <di:waypoint x="580" y="610" />
        <di:waypoint x="702" y="610" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0paznm2_di" bpmnElement="Flow_0paznm2">
        <di:waypoint x="328" y="610" />
        <di:waypoint x="480" y="610" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Event_11h41lf_di" bpmnElement="Event_11h41lf">
        <dc:Bounds x="292" y="592" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="276" y="635" width="68" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1mtzjg5_di" bpmnElement="Event_1mtzjg5">
        <dc:Bounds x="912" y="592" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="898" y="635" width="64" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1ubugjh_di" bpmnElement="Event_1ubugjh">
        <dc:Bounds x="702" y="592" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="695" y="635" width="51" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_0mocwta_di" bpmnElement="TextAnnotation_0mocwta">
        <dc:Bounds x="380" y="690" width="100" height="26" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_18gtcyq_di" bpmnElement="Activity_0gexc0p">
        <dc:Bounds x="480" y="570" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_17fw619_di" bpmnElement="Association_17fw619">
        <di:waypoint x="488" y="649" />
        <di:waypoint x="444" y="690" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
